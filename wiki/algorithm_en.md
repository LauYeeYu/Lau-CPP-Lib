# lau/algorithm.h

Switch to Other Languages: [繁體中文（香港）](algorithm_zh.md)

The `lau/algorithm.h` header file includes all the algorithms in Lau CPP Lib.

## Algorithm
- [Knuth-Morris-Pratt algorithm](#Knuth-Morris-Pratt_Algorithm): an efficient
  way of string matching

## Functions (in Alphabetical Order)
- [`PartialMatchTable`](#PartialMatchTable): calculate the partial match table
  for [KMP algorithm](#Knuth-Morris-Pratt_Algorithm)
- [`StringMatching`](#StringMatching): match two string (with
  [KMP algorithm](#Knuth-Morris-Pratt_Algorithm))
- [`StringMatchingWithPartialMatchTable`](#StringMatchingWithPartialMatchTable):
  match the string with a processed partial table

## Details
### <span id="Knuth-Morris-Pratt_Algorithm">Knuth-Morris-Pratt algorithm</span>
The Knuth-Morris-Pratt algorithm is published in 1977.  Different from the
naive string matching algorithm (with time complexity of $O(m \times n)$),
this algorithm is way more efficient (with the time complexity of $O(m + n)$).

This algorithm uses a partial match table to avoid repeated match.  For more
information about this algorithm, please view the
[Wikipedia page](https://en.wikipedia.org/wiki/Knuth%E2%80%93Morris%E2%80%93Pratt_algorithm).

Complexity: $O(m \times n)$

Related content:
- [`PartialMatchTable`](#PartialMatchTable): calculate the partial match table
  for KMP algorithm.
- [`StringMatching`](#StringMatching): match two string (with
  [KMP algorithm](#Knuth-Morris-Pratt_Algorithm))
- [`StringMatchingWithPartialMatchTable`](#StringMatchingWithPartialMatchTable):
  match the string with a processed partial table

### <span id="PartialMatchTable">`PartialMatchTable`</span>
```c++
template<class T, class Container>
Container& PartialMatchTable(const T& target, SizeT size, Container& table);
```
- Calculate the partial match table for
  [Knuth-Morris-Pratt algorithm](#Knuth-Morris-Pratt_Algorithm).
- Return the reference to the container.
- Please make sure that the `table` is at least `targetSize + 1`. (`targetSize
  is the size of `target`)

### <span id="StringMatchingWithPartialMatchTable">`StringMatchingWithPartialMatchTable`</span>
```c++
template<class T, class Container>
[[nodiscard]] SizeT StringMatchingWithPartialMatchTable(const T& source,
                                                        SizeT sourceLength,
                                                        const T& target,
                                                        SizeT targetLength,
                                                        const Container& table);
```
- Find the first index where a target string matches the source string with
  a partial match table that have been calculated before (You may use
  [`lau::PartialMatchTable`](#PartialMatchTable)).
- The partial match container must be identical with the table generated by
  [`lau::PartialMatchTable`](#PartialMatchTable).
- This function uses
  [Knuth-Morris-Pratt algorithm](#Knuth-Morris-Pratt_Algorithm).
- Return the index of the place where the target string match the source
  string; if the target string doesn't match, a -1 will be returned.
- Please note that `T` must have `operator[]`.

### <span id="StringMatching">`StringMatching`</span>
```c++
template<class T, class Allocator = std::allocator<SizeT>>
[[nodiscard]] SizeT StringMatching(const T& source, SizeT sourceLength,
                                   const T& target, SizeT targetLength,
                                   Allocator allocator = Allocator());
```
- Find the first index where a target string matches the source string.
- This function uses
  [Knuth-Morris-Pratt algorithm](#Knuth-Morris-Pratt_Algorithm).
- Return the index of the place where the target string match the source
  string; if the target string doesn't match, a -1 will be returned.
- Please note that `T` must have `operator[]`.

```c++
template<class Allocator = std::allocator<SizeT>>
[[nodiscard]] SizeT StringMatching(const char* source,
                                   const char* target,
                                   Allocator allocator = Allocator());
```
- Find the first index where a target string matches the source string.
- This function uses
  [Knuth-Morris-Pratt algorithm](#Knuth-Morris-Pratt_Algorithm).
- Return the index of the place where the target string match the source
  string; if the target string doesn't match, a -1 will be returned.
- Please note that `T` must have `operator[]`.

```c++
template<class Allocator = std::allocator<SizeT>>
[[nodiscard]] SizeT StringMatching(const std::string& source,
                                   const std::string& target,
                                   Allocator allocator = Allocator());
```
- Find the first index where a target string matches the source string.
- This function uses
  [Knuth-Morris-Pratt algorithm](#Knuth-Morris-Pratt_Algorithm).
- Return the index of the place where the target string match the source
  string; if the target string doesn't match, a -1 will be returned.
- Please note that `T` must have `operator[]`.
